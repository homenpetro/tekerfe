$(".slider").each(function(){var $this=$(this),$group=$this.find(".slide_group"),$slides=$this.find(".slide"),bulletArray=[],currentIndex=0,timeout;function move(newIndex){var animateLeft,slideLeft;advance(),$group.is(":animated")||currentIndex===newIndex||(bulletArray[currentIndex].removeClass("active"),bulletArray[newIndex].addClass("active"),newIndex>currentIndex?(slideLeft="100%",animateLeft="-100%"):(slideLeft="-100%",animateLeft="100%"),$slides.eq(newIndex).css({display:"block",left:slideLeft}),$group.animate({left:animateLeft},function(){$slides.eq(currentIndex).css({display:"none"}),$slides.eq(newIndex).css({left:0}),$group.css({left:0}),currentIndex=newIndex}))}function advance(){clearTimeout(timeout),timeout=setTimeout(function(){currentIndex<$slides.length-1?move(currentIndex+1):move(0)},4e3)}$(".next_btn").on("click",function(){currentIndex<$slides.length-1?move(currentIndex+1):move(0)}),$(".previous_btn").on("click",function(){move(0!==currentIndex?currentIndex-1:3)}),$.each($slides,function(index){var $button=$('<a class="slide_btn">&bull;</a>');index===currentIndex&&$button.addClass("active"),$button.on("click",function(){move(index)}).appendTo(".slide_buttons"),bulletArray.push($button)}),advance()});